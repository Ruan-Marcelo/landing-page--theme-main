<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link
      rel="shortcut icon"
      type="imagex/png"
      href="../src/images/Selo-corretor-parceiro-300x300.png"
    />
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="../src/styles/styles.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/imask/6.4.2/imask.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
      (function () {
        emailjs.init("N9ziwX_xtVhMMNSX7");
      })();
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Formulário de Cadastro</title>
    <style>     
      
    </style>
  </head>
  <body>
    <header>     
      <nav id="navbar">
        <a href="../index.html"> <img src="../src/images/Logo-odontoprev-plano-odontologicos.png" alt="OdontoPrev" id="logo"></a> 

          <ul id="nav_list">
              <li class="nav-item active">
                  <a href="../index.html">HOME</a>
              </li>
              <li class="nav-item">
                  <a href="../sobre.html">CONHEÇA A ODONTOPREV</a>
              </li>
              
                  <li class="nav-item dropdown">
                      <details>
                          <summary>PLANOS</summary>
                          <ul class="dropdown-menu">
                              <li><a href="contato.html">Essencial</a></li>
                              <li><a href="contato.html">Plus</a></li>
                              <li><a href="contato.html">Premium</a></li>
                          </ul>
                      </details>
                  </li>
             
              <li class="nav-item">
                  <a href="#">DUVIDAS</a>
              </li>
              <li class="nav-item">
                  <a href="#testimonials">REDE CREDENCIADA</a>
              </li>
          </ul>

          <!-- Botão CONTATO separado -->
    <a href="./Contact/contato.html" class="btn-default ">CONTATO</a>

    <button id="mobile_btn">
      <i class="fa-solid fa-bars" style="color: black;"></i>
  </button>
      </nav>

      <div id="mobile_menu">
          <ul id="mobile_nav_list">
              <li class="nav-item ">
                  <a href="../index.html">HOME</a>
              </li>
              <li class="nav-item">
                  <a href="../sobre.html">CONHEÇA A ODONTOPREV</a>
              </li>
              <li class="nav-item dropdown">
                <details>
                    <summary>PLANOS</summary>
                    <ul class="dropdown-menu">
                        <li><a href="contato.html">Essencial</a></li>
                        <li><a href="contato.html">Plus</a></li>
                        <li><a href="contato.html">Premium</a></li>
                    </ul>
                </details>
            </li>
              <li class="nav-item">
                  <a href="#testimonials">DUVIDAS</a>
              </li>
              <li class="nav-item">
                  <a href="#testimonials">REDE CREDENCIADA</a>
              </li>

              <li class="nav-item">             
                <a href="contato.html">CONTATO</a> 
            </li>
          </ul>
      </div>
  </header>
    <section class="contact">
      <h2>Formulário de Cadastro</h2>
      <form id="contact-form">
        <div class="input-box">
          <div class="input-field">
            <input
              type="text"
              id="nome-titular"
              placeholder="Nome Completo"
              required
            />
            <div class="error-txt">Digite o nome completo</div>
          </div>
          <div class="input-field">
            <input type="text" id="rg" placeholder="RG" required />
            <div class="error-txt">Digite o RG</div>
          </div>
        </div>

        <div class="input-box">
          <div class="input-field">
            <input type="text" id="cpf" placeholder="CPF" required />
            <div class="error-txt">Digite o CPF</div>
          </div>
          <div class="input-field">
            <input type="date" id="data-nascimento" required />
            <div class="error-txt">Digite a data de nascimento</div>
          </div>
        </div>

        <div class="input-box">
          <div class="input-field">
            <input
              type="text"
              id="nome-mae"
              placeholder="Nome da Mãe"
              required
            />
            <div class="error-txt">Digite o nome da mãe</div>
          </div>
          <div class="input-field">
            <input
              type="text"
              id="telefone-fixo"
              placeholder="Telefone Fixo com DDD"
            />
            <div class="error-txt">Telefone inválido</div>
          </div>
        </div>

        <div class="input-box">
          <div class="input-field">
            <input
              type="text"
              id="celular"
              placeholder="Celular com DDD"
              required
            />
            <div class="error-txt">Celular inválido</div>
          </div>
        </div>

        <div class="input-box">
          <div class="input-field">
            <select id="plano" required>
              <option value=""selected >Selecione o Plano OdontoPrev</option>
              <option value="plano1">Plano Empresarial</option>
              <option value="plano2">Plano MEI</option>
              <option value="plano3">Integral Doc MEI</option>
              <option value="plano3">Integral Empresarial</option>
              <option value="plano3">Integral Doc </option>
            </select>
            <div class="error-txt">Escolha um plano</div>
          </div>
        </div>

        <div class="input-box">
          <div class="input-field">
            <input type="text" id="rua" placeholder="Nome da Rua" required />
            <div class="error-txt">Informe a rua</div>
          </div>
          <div class="input-field">
            <input type="text" id="numero" placeholder="Número" required />
            <div class="error-txt">Informe o número</div>
          </div>
        </div>

        <div class="input-box">
          <div class="input-field">
            <input type="text" id="complemento" placeholder="Complemento" />
          </div>
          <div class="input-field">
            <input type="text" id="bairro" placeholder="Bairro" required />
            <div class="error-txt">Informe o bairro</div>
          </div>
        </div>

        <div class="input-box">
          <div class="input-field">
            <input type="text" id="cep" placeholder="CEP" required />
            <div class="error-txt">CEP inválido</div>
          </div>
        </div>

        <button type="submit">Enviar</button>
      </form>
    </section>

    <script>
      // Máscaras
      IMask(document.getElementById("cpf"), { mask: "000.000.000-00" });
      IMask(document.getElementById("telefone-fixo"), {
        mask: "(00) 0000-0000",
      });
      IMask(document.getElementById("celular"), { mask: "(00) 00000-0000" });
      IMask(document.getElementById("cep"), { mask: "00000-000" });
      IMask(document.getElementById("rg"), { mask: "00.000.000" });

      // Validação em tempo real
      const form = document.getElementById("contact-form");
      const inputs = form.querySelectorAll("input, select");

      inputs.forEach((input) => {
        input.addEventListener("input", () => validateField(input));
      });

      function validateField(field) {
        const error = field.nextElementSibling;
        if (field.value.trim() === "") {
          field.classList.add("invalid");
          field.classList.remove("valid");
          if (error) error.style.display = "block";
        } else {
          field.classList.remove("invalid");
          field.classList.add("valid");
          if (error) error.style.display = "none";
        }
      }

      form.addEventListener("submit", function (e) {
        e.preventDefault();

        let valid = true;
        inputs.forEach((input) => {
          validateField(input);
          if (!input.classList.contains("valid")) valid = false;
        });

        if (!valid) {
          alert("Preencha todos os campos corretamente.");
          return;
        }

        // Dados do formulário
        const data = {
          nome_titular: document.getElementById("nome-titular").value,
          rg: document.getElementById("rg").value,
          cpf: document.getElementById("cpf").value,
          nascimento: document.getElementById("data-nascimento").value,
          nome_mae: document.getElementById("nome-mae").value,
          telefone_fixo: document.getElementById("telefone-fixo").value,
          celular: document.getElementById("celular").value,
          plano: document.getElementById("plano").value,
          rua: document.getElementById("rua").value,
          numero: document.getElementById("numero").value,
          complemento: document.getElementById("complemento").value,
          bairro: document.getElementById("bairro").value,
          cep: document.getElementById("cep").value,
        };

        // Enviar com EmailJS
        emailjs
          .send("default_service", "template_0n7tzxr", data)
          .then(() => {
            // Mostra tela de loading
            document.getElementById("loading").style.display = "flex";

            // Aguarda 2 segundos antes de redirecionar
            setTimeout(() => {
              window.location.href = "../index.html";
            }, 2000);
          })
          .catch(() => {
            alert("Erro ao enviar o formulário.");
          });
      });
    </script>
    <div id="loading" style="display: none">
      <div class="loader"></div>
      <p>Redirecionando...</p>
    </div>
    <div class="video-wrapper">
      <div class="video-container">
        <iframe src="https://www.youtube.com/embed/4ULxVMcAO38" title="Seja bem-vindo à Odontoprev!" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
      </div>
      <div class="video-container">
        <iframe src="https://www.youtube.com/embed/rWes7M1Q0vQ" title="OdontoPrev - Sua Boca Fala por Você" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
      </div>
    </div>
          <footer>  
            <br>
            <div id="footer_items">
                <span id="copyright">
                    &copy WICHMANN & BIDON Corretora de Seguros LTDA – Todos os Direitos Reservados.
                </span>
    
                <div class="social-media-buttons">
                  <a href="#" onclick="abrirWhatsApp()">
                    <i class="fa-brands fa-whatsapp"></i>
                  </a>
                    <a href="">
                        <i class="fa-brands fa-instagram"></i>
                    </a>
    
                    <a href="">
                        <i class="fa-brands fa-facebook"></i>
                    </a>
                </div>
            </div>
             <!-- Botão "Voltar ao topo" -->
  <button id="btn-topo" title="Voltar ao topo">
    <i class="fa-solid fa-arrow-up"></i>
  </button>
        </footer>
    <!-- <script>
      document.addEventListener('contextmenu', event => event.preventDefault());
      document.addEventListener('keydown', event => {
        if (event.ctrlKey && (event.key === 'u' || event.key === 's' || event.key === 'c')) {
          event.preventDefault();
        }
      });
    </script> -->
  </body>
  <script src="../src/javascript/script.js"></script>
</html>
