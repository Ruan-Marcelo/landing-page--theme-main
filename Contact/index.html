<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <link
      rel="shortcut icon"
      type="imagex/png"
      href="../src/images/Selo-corretor-parceiro-300x300.png"
    />
    <link rel="stylesheet" href="../src/styles/styles.css" />
    <link rel="text/javascript" href="../src/javascript/script.js" />
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/imask/6.4.2/imask.min.js"></script>
    <script>
      (function () {
        emailjs.init("N9ziwX_xtVhMMNSX7");
      })();
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Formulário de Cadastro</title>
    <style>
           /* Reset */
           * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
      body {
        font-family: system-ui, sans-serif;
        background: #f7f7f7;
        padding: 20px;
      }

      h2 {
        text-align: center;
        color: #333;
      }

      .contact {
        max-width: 800px;
        margin: auto;
        background: white;
        padding: 30px;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .input-box {
        display: flex;
        gap: 20px;
        margin-bottom: 20px;
        flex-wrap: wrap;
      }

      .input-field {
        flex: 1;
        position: relative;
      }

      input,
      select {
        width: 100%;
        padding: 10px;
        border: 2px solid #ddd;
        border-radius: 5px;
        outline: none;
        transition: 0.3s ease;
      }

      input:focus,
      select:focus {
        border-color: #007bff;
      }

      .error-txt {
        color: red;
        font-size: 12px;
        display: none;
        margin-top: 5px;
      }

      input.valid {
        border-color: green;
      }

      input.invalid {
        border-color: red;
      }

      button {
        background: #007bff;
        color: white;
        border: none;
        padding: 12px 20px;
        border-radius: 5px;
        cursor: pointer;
        transition: 0.3s;
      }

      button:hover {
        background: #0056b3;
      }
      #loading {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.9);
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        z-index: 9999;
      }

      .loader {
        border: 5px solid #f3f3f3;
        border-top: 5px solid #007bff;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        animation: spin 1s linear infinite;
        margin-bottom: 15px;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
      /* Dropdown ativado ao passar o mouse */
      .nav-item details {
        position: relative;
      }

      .nav-item summary {
        list-style: none;
        cursor: pointer;
        font-weight: 600;
        color: #005aa7; /* Cor principal do tema OdontoPrev */
      }

      .nav-item summary::-webkit-details-marker {
        display: none;
      }

      /* Menu suspenso */
      .nav-item:hover .dropdown-menu {
        display: flex;
      }

      .dropdown-menu {
        position: absolute;
        top: 100%;
        left: 0;
        background-color: #ffffff; /* Fundo branco */
        box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
        padding: 8px 0;
        display: none; /* Escondido por padrão */
        flex-direction: column;
        border-radius: 4px;
        min-width: 160px;
        z-index: 10;
      }

      .dropdown-menu li {
        list-style: none;
        padding: 8px 16px;
        transition: background 0.2s;
      }

      .dropdown-menu li a {
        text-decoration: none;
        color: #005aa7; /* Cor dos links */
        font-size: 0.95rem;
      }

      .dropdown-menu li:hover {
        background-color: #f2f5f7; /* Cor de fundo ao passar o mouse */
      }

      .dropdown-menu li a:hover {
        color: #003d7a; /* Cor ao passar o mouse sobre o link */
      }
    </style>
  </head>
  <body>
    <header>
      <nav id="navbar">
        <a href="../index.html">
          <img
            src="../src/images/Logo-odontoprev-plano-odontologicos.png"
            alt="OdontoPrev"
        /></a>

        <ul id="nav_list">
          <li class="nav-item active">
            <a href="#home">HOME</a>
          </li>
          <li class="nav-item">
            <a href="#menu">CONHEÇA A ODONTOPREV</a>
          </li>

          <li class="nav-item dropdown">
            <details>
              <summary>PLANOS</summary>
              <ul class="dropdown-menu">
                <li><a href="#plano-essencial">Essencial</a></li>
                <li><a href="#plano-plus">Plus</a></li>
                <li><a href="#plano-premium">Premium</a></li>
              </ul>
            </details>
          </li>

          <li class="nav-item">
            <a href="#">DUVIDAS</a>
          </li>
          <li class="nav-item">
            <a href="#testimonials">REDE CREDENCIADA</a>
          </li>
        </ul>

        <button class="btn-default">
          <a href="./Contact/index.html">CONTATO</a>
        </button>

        <button id="mobile_btn">
          <i class="fa-solid fa-bars"></i>
        </button>
      </nav>

      <div id="mobile_menu">
        <ul id="mobile_nav_list">
          <li class="nav-item">
            <a href="#home">HOME</a>
          </li>
          <li class="nav-item">
            <a href="#menu">CONHEÇA A ODONTOPREV</a>
          </li>
          <li class="nav-item dropdown">
            <details>
              <summary>PLANOS</summary>
              <ul class="dropdown-menu">
                <li><a href="#plano-essencial">Essencial</a></li>
                <li><a href="#plano-plus">Plus</a></li>
                <li><a href="#plano-premium">Premium</a></li>
              </ul>
            </details>
          </li>
          <li class="nav-item">
            <a href="#testimonials">DUVIDAS</a>
          </li>
          <li class="nav-item">
            <a href="#testimonials">REDE CREDENCIADA</a>
          </li>
        </ul>

        <button class="btn-default">
          <a href="./Contact/index.html">CONTATO</a>
        </button>
      </div>
    </header>
    <section class="contact">
      <h2>Formulário de Cadastro</h2>
      <form id="contact-form">
        <div class="input-box">
          <div class="input-field">
            <input
              type="text"
              id="nome-titular"
              placeholder="Nome Completo"
              required
            />
            <div class="error-txt">Digite o nome completo</div>
          </div>
          <div class="input-field">
            <input type="text" id="rg" placeholder="RG" required />
            <div class="error-txt">Digite o RG</div>
          </div>
        </div>

        <div class="input-box">
          <div class="input-field">
            <input type="text" id="cpf" placeholder="CPF" required />
            <div class="error-txt">Digite o CPF</div>
          </div>
          <div class="input-field">
            <input type="date" id="data-nascimento" required />
            <div class="error-txt">Digite a data de nascimento</div>
          </div>
        </div>

        <div class="input-box">
          <div class="input-field">
            <input
              type="text"
              id="nome-mae"
              placeholder="Nome da Mãe"
              required
            />
            <div class="error-txt">Digite o nome da mãe</div>
          </div>
          <div class="input-field">
            <input
              type="text"
              id="telefone-fixo"
              placeholder="Telefone Fixo com DDD"
            />
            <div class="error-txt">Telefone inválido</div>
          </div>
        </div>

        <div class="input-box">
          <div class="input-field">
            <input
              type="text"
              id="celular"
              placeholder="Celular com DDD"
              required
            />
            <div class="error-txt">Celular inválido</div>
          </div>
        </div>

        <div class="input-box">
          <div class="input-field">
            <select id="plano" required>
              <option value="">Selecione o Plano OdontoPrev</option>
              <option value="plano1">Plano 1</option>
              <option value="plano2">Plano 2</option>
              <option value="plano3">Plano 3</option>
            </select>
            <div class="error-txt">Escolha um plano</div>
          </div>
        </div>

        <div class="input-box">
          <div class="input-field">
            <input type="text" id="rua" placeholder="Nome da Rua" required />
            <div class="error-txt">Informe a rua</div>
          </div>
          <div class="input-field">
            <input type="text" id="numero" placeholder="Número" required />
            <div class="error-txt">Informe o número</div>
          </div>
        </div>

        <div class="input-box">
          <div class="input-field">
            <input type="text" id="complemento" placeholder="Complemento" />
          </div>
          <div class="input-field">
            <input type="text" id="bairro" placeholder="Bairro" required />
            <div class="error-txt">Informe o bairro</div>
          </div>
        </div>

        <div class="input-box">
          <div class="input-field">
            <input type="text" id="cep" placeholder="CEP" required />
            <div class="error-txt">CEP inválido</div>
          </div>
        </div>

        <button type="submit">Enviar</button>
      </form>
    </section>

    <script>
      // Máscaras
      IMask(document.getElementById("cpf"), { mask: "000.000.000-00" });
      IMask(document.getElementById("telefone-fixo"), {
        mask: "(00) 0000-0000",
      });
      IMask(document.getElementById("celular"), { mask: "(00) 00000-0000" });
      IMask(document.getElementById("cep"), { mask: "00000-000" });
      IMask(document.getElementById("rg"), { mask: "00.000.000" });

      // Validação em tempo real
      const form = document.getElementById("contact-form");
      const inputs = form.querySelectorAll("input, select");

      inputs.forEach((input) => {
        input.addEventListener("input", () => validateField(input));
      });

      function validateField(field) {
        const error = field.nextElementSibling;
        if (field.value.trim() === "") {
          field.classList.add("invalid");
          field.classList.remove("valid");
          if (error) error.style.display = "block";
        } else {
          field.classList.remove("invalid");
          field.classList.add("valid");
          if (error) error.style.display = "none";
        }
      }

      form.addEventListener("submit", function (e) {
        e.preventDefault();

        let valid = true;
        inputs.forEach((input) => {
          validateField(input);
          if (!input.classList.contains("valid")) valid = false;
        });

        if (!valid) {
          alert("Preencha todos os campos corretamente.");
          return;
        }

        // Dados do formulário
        const data = {
          nome_titular: document.getElementById("nome-titular").value,
          rg: document.getElementById("rg").value,
          cpf: document.getElementById("cpf").value,
          nascimento: document.getElementById("data-nascimento").value,
          nome_mae: document.getElementById("nome-mae").value,
          telefone_fixo: document.getElementById("telefone-fixo").value,
          celular: document.getElementById("celular").value,
          plano: document.getElementById("plano").value,
          rua: document.getElementById("rua").value,
          numero: document.getElementById("numero").value,
          complemento: document.getElementById("complemento").value,
          bairro: document.getElementById("bairro").value,
          cep: document.getElementById("cep").value,
        };

        // Enviar com EmailJS
        emailjs
          .send("default_service", "template_0n7tzxr", data)
          .then(() => {
            // Mostra tela de loading
            document.getElementById("loading").style.display = "flex";

            // Aguarda 2 segundos antes de redirecionar
            setTimeout(() => {
              window.location.href = "../index.html";
            }, 2000);
          })
          .catch(() => {
            alert("Erro ao enviar o formulário.");
          });
      });
    </script>
    <div id="loading" style="display: none">
      <div class="loader"></div>
      <p>Redirecionando...</p>
    </div>
    <center style="margin-top: 30px;margin-bottom: 50px;">
      <iframe width="510" height="286" src="https://www.youtube.com/embed/4ULxVMcAO38" title="Seja bem-vindo à Odontoprev!" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
      <iframe width="510" height="286" src="https://www.youtube.com/embed/rWes7M1Q0vQ" title="OdontoPrev - Sua Boca Fala por Você" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
  </center>
    <footer>
          <img src="src/images/wave.svg" alt="">
  
          <div id="footer_items">
              <span id="copyright">
                  &copy 2024 TESTETESTE
              </span>       
          </div>
      </footer>
    <script>
      document.addEventListener('contextmenu', event => event.preventDefault());
      document.addEventListener('keydown', event => {
        if (event.ctrlKey && (event.key === 'u' || event.key === 's' || event.key === 'c')) {
          event.preventDefault();
        }
      });
    </script>
  </body>
</html>
